<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíå For You</title>
  <style>
    :root{
      --bg1:#ffe6f0;
      --bg2:#e6f7ff;
      --card:#ffffffcc;
      --shadow:0 20px 60px rgba(0,0,0,.15);
    }
    body{
      margin:0;
      height:100vh;
      display:grid;
      place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: radial-gradient(circle at 20% 20%, var(--bg2), transparent 40%),
                  radial-gradient(circle at 80% 30%, var(--bg1), transparent 50%),
                  linear-gradient(120deg, #fff, #fff7fb);
      overflow:hidden;
    }

    /* Floating hearts */
    .heart{
      position:fixed;
      font-size:18px;
      opacity:.75;
      animation: floatUp 8s linear infinite;
      pointer-events:none;
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.12));
    }
    @keyframes floatUp{
      from { transform: translateY(20vh) rotate(0deg); opacity:0; }
      10% { opacity:.8; }
      to { transform: translateY(-120vh) rotate(240deg); opacity:0; }
    }

    /* Modal overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      background: rgba(0,0,0,.15);
      backdrop-filter: blur(6px);
      padding:20px;
    }
    .modal{
      width:min(520px,92vw);
      border-radius:22px;
      background: var(--card);
      box-shadow: var(--shadow);
      border:1px solid rgba(255,255,255,.6);
      padding:22px 22px 18px;
      position:relative;
      overflow:hidden;
      perspective:1000px;
    }

    /* 3D box for content */
    .content-box{
      background: #fff;
      padding: 20px;
      border-radius: 18px;
      transform-style: preserve-3d;
      box-shadow: 0 15px 40px rgba(0,0,0,.2);
      text-align:center;
    }

    .title{font-size:22px;margin:0 0 6px;}
    .subtitle{margin:0 0 18px;opacity:.8;line-height:1.4;}
    .play-area{
      position:relative;
      height: 170px;
      border-radius:16px;
      background: rgba(255,255,255,.55);
      border:1px dashed rgba(0,0,0,.12);
      overflow:hidden;
    }

    .btn{
      border:none;
      border-radius:999px;
      padding:12px 18px;
      font-size:16px;
      cursor:pointer;
      box-shadow:0 10px 25px rgba(0,0,0,.12);
      transition: transform .18s ease, background .18s ease, filter .18s ease;
      user-select:none;
      position:absolute;
      touch-action: manipulation;
    }
    .btn:active{ transform: scale(.98); }
    #yesBtn{ left:22px; top:55px; background: rgb(255,170,200); }
    #noBtn{ left:180px; top:58px; background: rgba(160,160,160,.35); backdrop-filter: blur(6px); }

    .footer{
      display:flex;
      justify-content:space-between;
      margin-top:12px;
      font-size:13px;
      opacity:.75;
    }

    /* Result state */
    .result{ display:none; text-align:center; padding:6px 4px 10px; }
    .result img{
      width:min(320px,80vw);
      border-radius:18px;
      box-shadow:0 14px 35px rgba(0,0,0,.15);
      margin:10px 0 8px;
    }
    .bigline{ font-size:20px; margin:10px 0 4px; }
    .smallline{ margin:0 0 12px; opacity:.85; }
    .nextBtn{
      position:static;
      display:inline-block;
      padding:12px 18px;
      border-radius:999px;
      border:none;
      background:#111;
      color:#fff;
      cursor:pointer;
      box-shadow:0 12px 25px rgba(0,0,0,.15);
    }

    /* Shake effect */
    @keyframes shake{
      0%{ transform: translate(1px,1px) rotate(0deg); }
      20%{ transform: translate(-1px,-2px) rotate(-1deg); }
      40%{ transform: translate(-3px,0px) rotate(1deg); }
      60%{ transform: translate(3px,2px) rotate(0deg); }
      80%{ transform: translate(1px,-1px) rotate(1deg); }
      100%{ transform: translate(-1px,2px) rotate(-1deg); }
    }
  </style>
</head>
<body>

  <!-- Background music -->
  <audio id="bgMusic" autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_409347.mp3" type="audio/mpeg">
  </audio>

  <!-- Hearts -->
  <script>
    function spawnHeart(){
      const h = document.createElement('div');
      h.className='heart';
      h.textContent=Math.random()>0.5?'üíó':'üíò';
      h.style.left=Math.random()*100+'vw';
      h.style.fontSize=(14+Math.random()*18)+'px';
      h.style.animationDuration=(6+Math.random()*6)+'s';
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),9000);
    }
    setInterval(spawnHeart, 300);
  </script>

  <div class="overlay" id="overlay">
    <div class="modal">
      <div class="content-box">
        <h1 class="title" id="title">Will you be my Valentine? üíò</h1>
        <p class="subtitle" id="subtitle">Choose wisely‚Ä¶ (this page is very stubborn)</p>
      </div>

      <div class="play-area" id="playArea">
        <button class="btn" id="yesBtn">Yes üíñ</button>
        <button class="btn" id="noBtn">No üòº</button>
      </div>

      <div class="footer" id="footer">
        <span id="status">No clicks: 0</span>
        <span>Tip: try ‚ÄúNo‚Äù üòá</span>
      </div>

      <div class="result" id="result">
        <img id="resultImg" src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExeTZwdDB4c3BidTNmeWdoOHhtOG5renFpcm1zbnVmcXJvNmwxZ2JuYiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/vbqr9NgKRuKq7meXsi/giphy.gif" alt="Flying Kiss">
        <div class="bigline">I Knew it! üíû</div>
        <p class="smallline">Congratulations! You are now officially <strong>Shayan Valentine üíò</strong><br>(I mean, we both knew you'd say yes eventually üòç)</p>
        <button class="nextBtn" id="replayBtn">Replay üîÅ</button>
      </div>
    </div>
  </div>

  <script>
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const playArea = document.getElementById('playArea');
    const statusEl = document.getElementById('status');
    const footerEl = document.getElementById('footer');
    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');
    const result = document.getElementById('result');
    const replayBtn = document.getElementById('replayBtn');

    let noClicks=0;
    const maxNoClicks=4;

    function clamp(v,min,max){ return Math.max(min,Math.min(max,v)); }

    function randomizeNoPosition(){
      const areaRect=playArea.getBoundingClientRect();
      const btnRect=noBtn.getBoundingClientRect();
      const pad=10;
      const maxX=Math.max(pad,areaRect.width-btnRect.width-pad);
      const maxY=Math.max(pad,areaRect.height-btnRect.height-pad);
      const x=clamp(pad+Math.random()*(maxX-pad),pad,maxX);
      const y=clamp(pad+Math.random()*(maxY-pad),pad,maxY);
      noBtn.style.left=x+'px';
      noBtn.style.top=y+'px';
      noBtn.style.animation='shake 0.3s';
      setTimeout(()=>noBtn.style.animation='',300);
    }

    function growYesButton(){
      const scale=1+noClicks*0.12;
      yesBtn.style.transform=`scale(${scale})`;
      const red=255, green=clamp(170-noClicks*25,0,255), blue=clamp(200-noClicks*35,0,255);
      yesBtn.style.background=`rgb(${red},${green},${blue})`;
      yesBtn.style.filter=`drop-shadow(0 0 ${noClicks*2}px rgba(255,0,80,.35))`;
    }

    function showFinalYesOnly(){
      noBtn.style.display='none';
      yesBtn.style.left='50%';
      yesBtn.style.top='55%';
      yesBtn.style.transform='translate(-50%,-50%) scale(1.8)';
      yesBtn.style.background='rgb(255,0,80)';
      yesBtn.style.filter='drop-shadow(0 0 10px rgba(255,0,80,.35))';
      yesBtn.textContent='YES!!! üíñüíñüíñ';
      titleEl.textContent='Okay okay‚Ä¶ one last choice üòá';
      subtitleEl.textContent='Tap the big YES.';
    }

    function showResult(){
      playArea.style.display='none';
      footerEl.style.display='none';
      titleEl.textContent='Best decision ever üíû';
      subtitleEl.textContent='Now claim your Valentine prize.';
      result.style.display='block';
    }

    function doNoAction(){
      noClicks++;
      statusEl.textContent=`No clicks: ${noClicks}`;
      randomizeNoPosition();
      growYesButton();
      const lines=["Are you sure? üò≥","Try again üòº","Nope, that won‚Äôt work üòá","Okay, last time‚Ä¶ üòè"];
      subtitleEl.textContent=lines[Math.min(noClicks-1,lines.length-1)];
      if(noClicks>=maxNoClicks) showFinalYesOnly();
    }

    noBtn.addEventListener('click',doNoAction);
    noBtn.addEventListener('mouseenter',()=>{ if(noClicks<maxNoClicks) randomizeNoPosition(); });
    noBtn.addEventListener('touchstart',(e)=>{
      if(noClicks<maxNoClicks){ e.preventDefault(); randomizeNoPosition(); }
    },{passive:false});

    yesBtn.addEventListener('click',showResult);

    replayBtn.addEventListener('click',()=>{
      noClicks=0;
      statusEl.textContent='No clicks: 0';
      playArea.style.display='block';
      footerEl.style.display='flex';
      result.style.display='none';
      titleEl.textContent='Will you be my Valentine? üíò';
      subtitleEl.textContent='Choose wisely‚Ä¶ (this page is very stubborn)';
      noBtn.style.display='block';
      yesBtn.textContent='Yes üíñ';
      yesBtn.style.transform='none';
      yesBtn.style.filter='none';
      yesBtn.style.background='rgb(255,170,200)';
      yesBtn.style.left='22px';
      yesBtn.style.top='55px';
      noBtn.style.left='180px';
      noBtn.style.top='58px';
    });
  </script>
</body>
</html>
